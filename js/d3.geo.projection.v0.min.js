(function(){function t(t){return t?t/Math.sin(t):1}function a(t){return t>0?1:0>t?-1:0}function n(t){return t>0?Math.sqrt(t):0}function r(t){return t>1?Oa/2:-1>t?-Oa/2:Math.asin(t)}function h(t){return t>1?0:-1>t?Oa:Math.acos(t)}function e(t){return t=Math.exp(2*t),(t-1)/(t+1)}function o(t){return.5*(Math.exp(t)-Math.exp(-t))}function M(t){return.5*(Math.exp(t)+Math.exp(-t))}function i(t){return Math.log(t+n(t*t+1))}function u(t){return Math.log(t+n(t*t-1))}function s(t){var a=0,n=Ya(t),r=n(a);return r.parallel=function(t){return arguments.length?n(a=t*Oa/180):180*(a/Oa)},r}function c(t){var a=0,n=Oa/3,r=Ya(t),h=r(a,n);return h.parallels=function(t){return arguments.length?r(a=t[0]*Oa/180,n=t[1]*Oa/180):[180*(a/Oa),180*(n/Oa)]},h}function f(t){function n(){var t=!1,a=Ya(r),n=a(t);return n.quincuncial=function(n){return arguments.length?a(t=!!n):t},n}function r(n){var r=n?function(n,r){var e=Oa/2>Math.abs(n),o=t(e?n:n>0?n-Oa:n+Oa,r),M=(o[0]-o[1])*Math.SQRT1_2,i=(o[0]+o[1])*Math.SQRT1_2;if(e)return[M,i];var u=h*Math.SQRT1_2,s=M>0^i>0?-1:1;return[s*M-a(i)*u,s*i-a(M)*u]}:function(a,n){var r=a>0?-.5:.5,e=t(a+r*Oa,n);return e[0]-=r*h,e};return t.invert&&(r.invert=n?function(a,n){var r=(a+n)*Math.SQRT1_2,e=(n-a)*Math.SQRT1_2,o=.5*h>Math.abs(r)&&.5*h>Math.abs(e);if(!o){var M=h*Math.SQRT1_2,i=r>0^e>0?-1:1,u=-i*(a+(e>0?1:-1)*M),s=-i*(n+(r>0?1:-1)*M);r=(-u-s)*Math.SQRT1_2,e=(u-s)*Math.SQRT1_2}var c=t.invert(r,e);return o||(c[0]+=r>0?Oa:-Oa),c}:function(a,n){var r=a>0?-.5:.5,e=t.invert(a+r*h,n),o=e[0]-r*Oa;return-Oa>o?o+=2*Oa:o>Oa&&(o-=2*Oa),e[0]=o,e}),r}var h=t(Oa/2,0)[0]-t(-Oa/2,0)[0];return n.raw=r,n}function v(t,a,n){if(!t){var r=l(a,1-n);return[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]]}var h=l(t,n);if(!a)return[[h[0],0],[h[1],0],[h[2],0]];var r=l(a,1-n),e=r[1]*r[1]+n*h[0]*h[0]*r[0]*r[0];return[[h[0]*r[2]/e,h[1]*h[2]*r[0]*r[1]/e],[h[1]*r[1]/e,-h[0]*h[2]*r[0]*r[2]/e],[h[2]*r[1]*r[2]/e,-n*h[0]*h[1]*r[0]/e]]}function l(t,a){var h,i,u,s,c;if(La>a)return s=Math.sin(t),i=Math.cos(t),h=.25*a*(t-s*i),[s-h*i,i+h*s,1-.5*a*s*s,t-h];if(a>=1-La)return h=.25*(1-a),i=M(t),s=e(t),u=1/i,c=i*o(t),[s+h*(c-t)/(i*i),u-h*s*u*(c-t),u+h*s*u*(c+t),2*Math.atan(Math.exp(t))-Oa/2+h*(c-t)/i];var f=[1,0,0,0,0,0,0,0,0],v=[Math.sqrt(a),0,0,0,0,0,0,0,0],l=0;for(i=Math.sqrt(1-a),c=1;Math.abs(v[l]/f[l])>La&&8>l;)h=f[l++],v[l]=.5*(h-i),f[l]=.5*(h+i),i=n(h*i),c*=2;u=c*f[l]*t;do s=v[l]*Math.sin(i=u)/f[l],u=.5*(r(s)+u);while(--l);return[Math.sin(u),s=Math.cos(u),s/Math.cos(u-i),u]}function g(t,r,h){var e=Math.abs(t),M=Math.abs(r),i=o(M);if(e){var u=1/Math.sin(e),s=1/(Math.tan(e)*Math.tan(e)),c=-(s+h*i*i*u*u-1+h),f=(h-1)*s,v=.5*(-c+Math.sqrt(c*c-4*f));return[d(Math.atan(1/Math.sqrt(v)),h)*a(t),d(Math.atan(n((v/s-1)/h)),1-h)*a(r)]}return[0,d(Math.atan(i),1-h)*a(r)]}function d(t,a){if(!a)return t;if(1===a)return Math.log(Math.tan(t/2+Oa/4));for(var n=1,r=Math.sqrt(1-a),h=Math.sqrt(a),e=0;Math.abs(h)>La;e++){if(t%Oa){var o=Math.atan(r*Math.tan(t)/n);0>o&&(o+=Oa),t+=o+~~(t/Oa)*Oa}else t+=t;h=(n+r)/2,r=Math.sqrt(n*r),h=((n=h)-r)/2}return t/(Math.pow(2,e)*n)}function b(a,n){var r=Math.cos(n),e=t(h(r*Math.cos(a/=2)));return[2*r*Math.sin(a)*e,Math.sin(n)*e]}function q(t,n){var r=(Math.SQRT2-1)/(Math.SQRT2+1),h=Math.sqrt(1-r*r),e=d(Oa/2,h*h),o=-1,M=Math.log(Math.tan(Oa/4+Math.abs(n)/2)),i=Math.exp(o*M)/Math.sqrt(r),u=w(i*Math.cos(o*t),i*Math.sin(o*t)),s=g(u[0],u[1],h*h);return[-s[1],a(n)*(.5*e-s[0])]}function w(t,n){var r=t*t,h=n+1,e=1-r-n*n;return[a(t)*Oa/4-.5*Math.atan2(e,2*t),-.25*Math.log(e*e+4*r)+.5*Math.log(h*h+r)]}function m(t,a){var n=a[0]*a[0]+a[1]*a[1];return[(t[0]*a[0]+t[1]*a[1])/n,(t[1]*a[0]-t[0]*a[1])/n]}function p(t){return function(a){var n,r=t*Math.sin(a),h=30;do a-=n=(a+Math.sin(a)-r)/(1+Math.cos(a));while(Math.abs(n)>La&&--h>0);return a/2}}function S(t,a,n){function h(n,r){return[t*n*Math.cos(r=e(r)),a*Math.sin(r)]}var e=p(n);return h.invert=function(h,e){var o=r(e/a);return[h/(t*Math.cos(o)),r((2*o+Math.sin(2*o))/n)]},h}function Q(t,a){return[t*Math.cos(a),a]}function R(t,a){return a>-tn?(t=$a(t,a),t[1]+=an,t):Q(t,a)}function T(t){function a(t,a){var M=Math.cos(a),i=Math.cos(t/=2);return[(1+M)*Math.sin(t),(h*a>-Math.atan2(i,e)-.001?0:10*-h)+o+Math.sin(a)*r-(1+M)*n*i]}var n=Math.sin(t),r=Math.cos(t),h=t>0?1:-1,e=Math.tan(h*t),o=(1+n-r)/2;return a.invert=function(t,a){var M=0,i=0,u=50;do{var s=Math.cos(M),c=Math.sin(M),f=Math.cos(i),v=Math.sin(i),l=1+f,g=l*c-t,d=o+v*r-l*n*s-a,b=.5*l*s,q=-c*v,w=.5*n*l*c,m=r*f+n*s*v,p=q*w-m*b,S=.5*(d*q-g*m)/p,Q=(g*w-d*b)/p;M-=S,i-=Q}while((Math.abs(S)>La||Math.abs(Q)>La)&&--u>0);return h*i>-Math.atan2(Math.cos(M),e)-.001?[2*M,i]:null},a}function y(){var t=Oa/9,a=t>0?1:-1,n=Math.tan(a*t),r=Ya(T),h=r(t),e=h.stream;return h.parallel=function(h){return arguments.length?(n=Math.tan((a=(t=h*Oa/180)>0?1:-1)*t),r(t)):180*(t/Oa)},h.stream=function(r){var o=h.rotate(),M=e(r),i=(h.rotate([0,0]),e(r));return h.rotate(o),M.sphere=function(){i.polygonStart(),i.lineStart();for(var r=-180*a;180>a*r;r+=90*a)i.point(r,90*a);for(;a*(r-=t)>=-180;)i.point(r,a*-Math.atan2(Math.cos(r*Va/2),n)*Wa);i.lineEnd(),i.polygonEnd()},M},h}function k(t,a){var r=Math.tan(a/2),h=n(1-r*r),e=1+h*Math.cos(t/=2),o=Math.sin(t)*h/e,M=r/e,i=o*o,u=M*M;return[4/3*o*(3+i-3*u),4/3*M*(3+3*i-u)]}function x(t,n){var r=Math.abs(n);return Oa/4>r?[t,Math.log(Math.tan(Oa/4+n/2))]:[t*Math.cos(r)*(2*Math.SQRT2-1/Math.sin(r)),a(n)*(2*Math.SQRT2*(r-Oa/4)-Math.log(Math.tan(r/2)))]}function E(t){function a(t,a){var h=rn(t,a);if(Math.abs(t)>Oa/2){var e=Math.atan2(h[1],h[0]),o=Math.sqrt(h[0]*h[0]+h[1]*h[1]),M=n*Math.round((e-Oa/2)/n)+Oa/2,i=Math.atan2(Math.sin(e-=M),2-Math.cos(e));e=M+r(Oa/o*Math.sin(i))-i,h[0]=o*Math.cos(e),h[1]=o*Math.sin(e)}return h}var n=2*Oa/t;return a.invert=function(t,a){var r=Math.sqrt(t*t+a*a);if(r>Oa/2){var h=Math.atan2(a,t),e=n*Math.round((h-Oa/2)/n)+Oa/2,o=h>e?-1:1,M=r*Math.cos(e-h);cotα=1/Math.tan(o*Math.acos((M-Oa)/Math.sqrt(Oa*(Oa-2*M)+r*r))),h=e+2*Math.atan((cotα+o*Math.sqrt(cotα*cotα-3))/3),t=r*Math.cos(h),a=r*Math.sin(h)}return rn.invert(t,a)},a}function _(){var t=5,a=Ya(E),n=a(t),r=n.stream;return n.lobes=function(n){return arguments.length?a(t=+n):t},n.stream=function(a){var h=n.rotate(),e=r(a),o=(n.rotate([0,0]),r(a));return n.rotate(h),e.sphere=function(){o.polygonStart(),o.lineStart();for(var a=1e-4,n=0,r=360/t,h=90-180/t;t>n;++n,h-=r)o.point(180,0),-90>h?(o.point(-90,180-h-a),o.point(-90,180-h+a)):(o.point(90,h+a),o.point(90,h-a));o.lineEnd(),o.polygonEnd()},e},n}function P(t,a){var n=2.00276,r=Za(a);return[n*t/(1/Math.cos(a)+1.11072/Math.cos(r)),(a+Math.SQRT2*Math.sin(r))/n]}function z(t){function a(a,r){var h=n+t-r,e=h?a*Math.cos(r)/h:h;return[h*Math.sin(e),n-h*Math.cos(e)]}if(!t)return Q;var n=1/Math.tan(t);return a.invert=function(a,r){var h=Math.sqrt(a*a+(r=n-r)*r),e=n+t-h;return[h/Math.cos(e)*Math.atan2(a,r),e]},a}function A(t,a){var r=n(1-Math.sin(a));return[2/Ua*t*r,Ua*(1-r)]}function D(t,n){function r(t,a){var n=La>Math.abs(Math.abs(a)-Oa/2)?0:M/Math.pow(e(a),o);return[n*Math.sin(o*t),M-n*Math.cos(o*t)]}var h=Math.cos(t),e=function(t){return Math.tan(Oa/4+t/2)},o=t===n?Math.sin(t):Math.log(h/Math.cos(n))/Math.log(e(n)/e(t)),M=h*Math.pow(e(t),o)/o;return o?(r.invert=function(t,n){var r=M-n,h=a(o)*Math.sqrt(t*t+r*r);return[Math.atan2(t,r)/o,2*Math.atan(Math.pow(M/h,1/o))-Oa/2]},r):G}function G(t,a){return[t,Math.log(Math.tan(Oa/4+a/2))]}function j(t,n){function r(t,a){var n=o-a;return[n*Math.sin(e*t),o-n*Math.cos(e*t)]}var h=Math.cos(t),e=t===n?Math.sin(t):(h-Math.cos(n))/(n-t),o=h/e+t;return La>Math.abs(e)?d3.geo.equirectangular.raw:(r.invert=function(t,n){var r=o-n;return[Math.atan2(t,r)/e,o-a(e)*Math.sqrt(t*t+r*r)]},r)}function F(t){function a(t,a){return[t,(t?t/Math.sin(t):1)*(Math.sin(a)*Math.cos(t)-n*Math.cos(a))]}var n=Math.tan(t);return a.invert=n?function(t,a){t&&(a*=Math.sin(t)/t);var r=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(r*r+n*n-a*a)-r,n-a)]}:function(t,a){return[t,r(t?a*Math.tan(t)/t:a)]},a}function C(t,a){var n=Math.sqrt(3);return[n*t*(2*Math.cos(2*a/3)-1)/Ua,n*Ua*Math.sin(a/3)]}function H(t){function a(t,a){return[t*n,Math.sin(a)/n]}var n=Math.cos(t);return a.invert=function(t,a){return[t/n,r(a*n)]},a}function I(t,a){var n=Math.sqrt(8/(3*Oa));return[n*t*(1-Math.abs(a)/Oa),n*a]}function B(t,n){var r=Math.sqrt(4-3*Math.sin(Math.abs(n)));return[2/Math.sqrt(6*Oa)*t*r,a(n)*Math.sqrt(2*Oa/3)*(2-r)]}function J(t,a){var n=Math.sqrt(Oa*(4+Oa));return[2/n*t*(1+Math.sqrt(1-4*a*a/(Oa*Oa))),4/n*a]}function K(t,a){var n=(2+Oa/2)*Math.sin(a);a/=2;for(var r=0,h=1/0;10>r&&Math.abs(h)>La;r++){var e=Math.cos(a);a-=h=(a+Math.sin(a)*(e+2)-n)/(2*e*(1+e))}return[2/Math.sqrt(Oa*(4+Oa))*t*(1+Math.cos(a)),2*Math.sqrt(Oa/(4+Oa))*Math.sin(a)]}function L(t,a){return[t*(1+Math.cos(a))/Math.sqrt(2+Oa),2*a/Math.sqrt(2+Oa)]}function N(t,a){for(var n=(1+Oa/2)*Math.sin(a),r=0,h=1/0;10>r&&Math.abs(h)>La;r++)a-=h=(a+Math.sin(a)-n)/(1+Math.cos(a));return n=Math.sqrt(2+Oa),[t*(1+Math.cos(a))/n,2*a/n]}function O(t,a){var n=Math.sin(t/=2),r=Math.cos(t),h=Math.sqrt(Math.cos(a)),e=Math.cos(a/=2),o=Math.sin(a)/(e+Math.SQRT2*r*h),M=Math.sqrt(2/(1+o*o)),i=Math.sqrt((Math.SQRT2*e+(r+n)*h)/(Math.SQRT2*e+(r-n)*h));return[en*(M*(i-1/i)-2*Math.log(i)),en*(M*o*(i+1/i)-2*Math.atan(o))]}function U(t,a){var r=Math.tan(a/2);return[t*on*n(1-r*r),(1+on)*r]}function V(t,n){var h=a(t),e=a(n),o=Math.cos(n),M=Math.cos(t)*o,i=Math.sin(t)*o,u=Math.sin(e*n);t=Math.abs(Math.atan2(i,u)),n=r(M),Math.abs(t-Oa/2)>La&&(t%=Oa/2);var s=W(t>Oa/4?Oa/2-t:t,n);return t>Oa/4&&(u=s[0],s[0]=-s[1],s[1]=-u),s[0]*=h,s[1]*=-e,s}function W(t,a){if(a===Oa/2)return[0,0];var h=Math.sin(a),e=h*h,o=e*e,M=1+o,i=1+3*o,u=1-o,s=r(1/Math.sqrt(M)),c=u+e*M*s,f=(1-h)/c,v=Math.sqrt(f),l=f*M,g=Math.sqrt(l),d=v*u;if(0===t)return[0,-(d+e*g)];var b=Math.cos(a),q=1/b,w=2*h*b,m=(-3*e+s*i)*w,p=(-c*b-(1-h)*m)/(c*c),S=.5*p/v,Q=u*S-2*e*v*w,R=e*M*p+f*i*w,T=-q*w,y=-q*R,k=-2*q*Q,x=4*t/Oa;if(t>.222*Oa||Oa/4>a&&t>.175*Oa){var E=(d+e*n(l*(1+o)-d*d))/(1+o);if(t>Oa/4)return[E,E];var _=E,P=.5*E,z=50;E=.5*(P+_);do{var A=Math.sqrt(l-E*E),D=E*(k+T*A)+y*r(E/g)-x;if(!D)break;0>D?P=E:_=E,E=.5*(P+_)}while(Math.abs(_-P)>La&&--z>0)}else{var G,E=La,z=25;do{var j=E*E,A=n(l-j),F=k+T*A,D=E*F+y*r(E/g)-x,C=F+(y-T*j)/A;E-=G=A?D/C:0}while(Math.abs(G)>La&&--z>0)}return[E,-d-e*n(l-E*E)]}function X(t,a){for(var n=0,r=1,h=.5,e=50;;){var o=h*h,M=Math.sqrt(h),i=Math.asin(1/Math.sqrt(1+o)),u=1-o+h*(1+o)*i,s=(1-M)/u,c=Math.sqrt(s),f=s*(1+o),v=c*(1-o),l=f-t*t,g=Math.sqrt(l),d=a+v+h*g;if(Na>Math.abs(r-n)||0===--e||0===d)break;d>0?n=h:r=h,h=.5*(n+r)}if(!e)return null;var b=Math.asin(M),q=Math.cos(b),w=1/q,m=2*M*q,p=(-3*h+i*(1+3*o))*m,S=(-u*q-(1-M)*p)/(u*u),Q=.5*S/c,R=(1-o)*Q-2*h*c*m,T=-2*w*R,y=-w*m,k=-w*(h*(1+o)*S+s*(1+3*o)*m);return[Oa/4*(t*(T+y*g)+k*Math.asin(t/Math.sqrt(f))),b]}function Y(t){function a(t,a){var n=o(t,a);t=n[0],a=n[1];var M=Math.sin(a),i=Math.cos(a),u=Math.cos(t),s=h(r*M+e*i*u),c=Math.sin(s),f=Math.abs(c)>La?s/c:1;return[f*e*Math.sin(t),(Math.abs(t)>Oa/2?f:-f)*(r*i-e*M*u)]}var r=Math.sin(t),e=Math.cos(t),o=Z(t);return o.invert=Z(-t),a.invert=function(t,a){var h=Math.sqrt(t*t+a*a),e=-Math.sin(h),M=Math.cos(h),i=h*M,u=-a*e,s=h*r,c=n(i*i+u*u-s*s),f=Math.atan2(i*s+u*c,u*s-i*c),v=(h>Oa/2?-1:1)*Math.atan2(t*e,h*Math.cos(f)*M+a*Math.sin(f)*e);return o.invert(v,f)},a}function Z(t){var a=Math.sin(t),n=Math.cos(t);return function(t,h){var e=Math.cos(h),o=Math.cos(t)*e,M=Math.sin(t)*e,i=Math.sin(h);return[Math.atan2(M,o*n-i*a),r(i*n+o*a)]}}function $(){var t=0,a=Ya(Y),n=a(t),r=n.rotate,h=n.stream,e=d3.geo.circle();return n.parallel=function(r){if(!arguments.length)return 180*(t/Oa);var h=n.rotate();return a(t=r*Oa/180).rotate(h)},n.rotate=function(a){return arguments.length?(r.call(n,[a[0],a[1]-180*(t/Oa)]),e.origin([-a[0],-a[1]]),n):(a=r.call(n),a[1]+=180*(t/Oa),a)},n.stream=function(t){return t=h(t),t.sphere=function(){t.polygonStart();var a,n=.01,r=e.angle(90-n)().coordinates[0],h=r.length-1,o=-1;for(t.lineStart();h>++o;)t.point((a=r[o])[0],a[1]);for(t.lineEnd(),r=e.angle(90+n)().coordinates[0],h=r.length-1,t.lineStart();--o>=0;)t.point((a=r[o])[0],a[1]);t.lineEnd(),t.polygonEnd()},t},n}function ta(t,a){function n(n,r){var h=Mn(n/a,r);return h[0]*=t,h}return 2>arguments.length&&(a=t),1===a?Mn:1/0===a?na:(n.invert=function(n,r){var h=Mn.invert(n/t,r);return h[0]*=a,h},n)}function aa(){var t=2,a=Ya(ta),n=a(t);return n.coefficient=function(n){return arguments.length?a(t=+n):t},n}function na(t,a){return[t*Math.cos(a)/Math.cos(a/=2),2*Math.sin(a)]}function ra(t,a){for(var n,r=Math.sin(a)*(0>a?2.43763:2.67595),h=0;20>h&&(a-=n=(a+Math.sin(a)-r)/(1+Math.cos(a)),!(La>Math.abs(n)));h++);return[.85*t*Math.cos(a*=.5),Math.sin(a)*(0>a?1.93052:1.75859)]}function ha(t){function a(a,s){var c,f=Math.abs(s);if(f>r){var v=Math.min(t-1,Math.max(0,Math.floor((a+Oa)/u)));a+=Oa*(t-1)/t-v*u,c=d3.geo.collignon.raw(a,f),c[0]=c[0]*h/e-h*(t-1)/(2*t)+v*h/t,c[1]=o+4*(c[1]-M)*i/h,0>s&&(c[1]=-c[1])}else c=n(a,s);return c[0]/=2,c}var n=d3.geo.cylindricalEqualArea.raw(0),r=un*Oa/180,h=2*Oa,e=d3.geo.collignon.raw(Oa,r)[0]-d3.geo.collignon.raw(-Oa,r)[0],o=n(0,r)[1],M=d3.geo.collignon.raw(0,r)[1],i=d3.geo.collignon.raw(0,Oa/2)[1]-M,u=2*Oa/t;return a.invert=function(a,r){a*=2;var s=Math.abs(r);if(s>o){var c=Math.min(t-1,Math.max(0,Math.floor((a+Oa)/u)));a=(a+Oa*(t-1)/t-c*u)*e/h;var f=d3.geo.collignon.raw.invert(a,.25*(s-o)*h/i+M);return f[0]-=Oa*(t-1)/t-c*u,0>r&&(f[1]=-f[1]),f}return n.invert(a,r)},a}function ea(){function t(){var t=180/a;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,a){return[t,1&a?90-1e-6:un]}).concat(d3.range(180,-180-t/2,-t).map(function(t,a){return[t,1&a?-90+1e-6:-un]}))]}}var a=2,n=Ya(ha),r=n(a),h=r.stream;return r.lobes=function(t){return arguments.length?n(a=+t):a},r.stream=function(a){var n=r.rotate(),e=h(a),o=(r.rotate([0,0]),h(a));return r.rotate(n),e.sphere=function(){d3.geo.stream(t(),o)},e},r}function oa(t){function a(a,r){var h,o,f=1-Math.sin(r);if(f&&2>f){var v,l=Oa/2-r,g=25;do{var d=Math.sin(l),b=Math.cos(l),q=M+Math.atan2(d,e-b),w=1+c-2*e*b;l-=v=(l-s*M-e*d+w*q-.5*f*n)/(2*e*d*q)}while(Math.abs(v)>Na&&--g>0);h=i*Math.sqrt(w),o=a*q/Oa}else h=i*(t+f),o=a*M/Oa;return[h*Math.sin(o),u-h*Math.cos(o)]}var n,e=1+t,o=Math.sin(1/e),M=r(o),i=2*Math.sqrt(Oa/(n=Oa+4*M*e)),u=.5*i*(e+Math.sqrt(t*(2+t))),s=t*t,c=e*e;return a.invert=function(t,a){var o=t*t+(a-=u)*a,f=(1+c-o/(i*i))/(2*e),v=h(f),l=Math.sin(v),g=M+Math.atan2(l,e-f);return[r(t/Math.sqrt(o))*Oa/g,r(1-2*(v-s*M-e*l+(1+c-2*e*f)*g)/n)]},a}function Ma(){var t=1,a=Ya(oa),n=a(t);return n.ratio=function(n){return arguments.length?a(t=+n):t},n}function ia(t,a){return Math.abs(a)>tn?(t=$a(t,a),t[1]-=a>0?an:-an,t):Q(t,a)}function ua(t,a){return[3*t/(2*Oa)*Math.sqrt(Oa*Oa/3-a*a),a]}function sa(t){function n(a,n){if(La>Math.abs(Math.abs(n)-Oa/2))return[0,0>n?-2:2];var r=Math.sin(n),h=Math.pow((1+r)/(1-r),t/2),e=.5*(h+1/h)+Math.cos(a*=t);return[2*Math.sin(a)/e,(h-1/h)/e]}return n.invert=function(n,h){var e=Math.abs(h);if(La>Math.abs(e-2))return n?null:[0,a(h)*Oa/2];if(e>2)return null;n/=2,h/=2;var o=n*n,M=h*h,i=2*h/(1+o+M);return i=Math.pow((1+i)/(1-i),1/t),[Math.atan2(2*n,1-o-M)/t,r((i-1)/(i+1))]},n}function ca(){var t=.5,a=Ya(sa),n=a(t);return n.spacing=function(n){return arguments.length?a(t=+n):t},n}function fa(t,a){return[t*(1+Math.sqrt(Math.cos(a)))/2,a/(Math.cos(a/2)*Math.cos(t/6))]}function va(t,a){var n=t*t,r=a*a;return[t*(.975534+r*(-.119161+n*-.0143059+r*-.0547009)),a*(1.00384+n*(.0802894+r*-.02855+199025e-9*n)+r*(.0998909+r*-.0491032))]}function la(t,a){return[Math.sin(t)/Math.cos(a),Math.tan(a)*Math.cos(t)]}function ga(t){function a(a,h){var e=h-t,o=La>Math.abs(e)?a*n:La>Math.abs(o=Oa/4+h/2)||La>Math.abs(Math.abs(o)-Oa/2)?0:a*e/Math.log(Math.tan(o)/r);return[o,e]}var n=Math.cos(t),r=Math.tan(Oa/4+t/2);return a.invert=function(a,h){var e,o=h+t;return[La>Math.abs(h)?a/n:La>Math.abs(e=Oa/4+o/2)||La>Math.abs(Math.abs(e)-Oa/2)?0:a*Math.log(Math.tan(e)/r)/h,o]},a}function da(t,a){return[t,1.25*Math.log(Math.tan(Oa/4+.4*a))]}function ba(t){function a(a,r){for(var h,e=Math.cos(r),o=2/(1+e*Math.cos(a)),M=o*e*Math.sin(a),i=o*Math.sin(r),u=n,s=t[u],c=s[0],f=s[1];--u>=0;)s=t[u],c=s[0]+M*(h=c)-i*f,f=s[1]+M*f+i*h;return c=M*(h=c)-i*f,f=M*f+i*h,[c,f]}var n=t.length-1;return a.invert=function(a,h){var e=20,o=a,M=h;do{for(var i,u=n,s=t[u],c=s[0],f=s[1],v=0,l=0;--u>=0;)s=t[u],v=c+o*(i=v)-M*l,l=f+o*l+M*i,c=s[0]+o*(i=c)-M*f,f=s[1]+o*f+M*i;v=c+o*(i=v)-M*l,l=f+o*l+M*i,c=o*(i=c)-M*f-a,f=o*f+M*i-h;var g,d,b=v*v+l*l;o-=g=(c*v+f*l)/b,M-=d=(f*v-c*l)/b}while(Math.abs(g)+Math.abs(d)>La*La&&--e>0);if(e){var q=Math.sqrt(o*o+M*M),w=2*Math.atan(.5*q),m=Math.sin(w);return[Math.atan2(o*m,q*Math.cos(w)),q?r(M*m/q):0]}},a}function qa(){var t=sn.miller,a=Ya(ba),n=a(t);return n.coefficients=function(n){return arguments.length?a(t="string"==typeof n?sn[n]:n):t},n}function wa(t,a){var n=Math.sqrt(6),r=Math.sqrt(7),h=Math.asin(7*Math.sin(a)/(3*n));return[n*t*(2*Math.cos(2*h/3)-1)/r,9*Math.sin(h/3)/r]}function ma(t,a){for(var n,r=(1+Math.SQRT1_2)*Math.sin(a),h=a,e=0;25>e&&(h-=n=(Math.sin(h/2)+Math.sin(h)-r)/(.5*Math.cos(h/2)+Math.cos(h)),!(La>Math.abs(n)));e++);return[t*(1+2*Math.cos(h)/Math.cos(h/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(h/2)/Math.sqrt(2+Math.SQRT2)]}function pa(t,a){for(var n,r=Math.sqrt(6/(4+Oa)),h=(1+Oa/4)*Math.sin(a),e=a/2,o=0;25>o&&(e-=n=(e/2+Math.sin(e)-h)/(.5+Math.cos(e)),!(La>Math.abs(n)));o++);return[r*(.5+Math.cos(e))*t/1.5,r*e]}function Sa(t,a){var n=a*a,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),a*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function Qa(t,a){return[t*(1+Math.cos(a))/2,2*(a-Math.tan(a/2))]}function Ra(t,a){if(La>Math.abs(a))return[t,0];var n=Math.tan(a),r=t*Math.sin(a);return[Math.sin(r)/n,a+(1-Math.cos(r))/n]}function Ta(t){function a(a,r){var h=n?Math.tan(a*n/2)/n:a/2;if(!r)return[2*h,-t];var e=2*Math.atan(h*Math.sin(r)),o=1/Math.tan(r);return[Math.sin(e)*o,r+(1-Math.cos(e))*o-t]}var n=Math.sin(t);return a.invert=function(a,e){if(La>Math.abs(e+=t))return[n?2*Math.atan(n*a/2)/n:a,0];var o,M=a*a+e*e,i=0,u=10;do{var s=Math.tan(i),c=1/Math.cos(i),f=M-2*e*i+i*i;i-=o=(s*f+2*(i-e))/(2+f*c*c+2*(i-e)*s)}while(Math.abs(o)>La&&--u>0);var v=a*(s=Math.tan(i)),l=Math.tan(Math.abs(e)<Math.abs(i+1/s)?.5*r(v):.5*h(v)+Oa/4)/Math.sin(i);return[n?2*Math.atan(n*l)/n:2*l,i]},a}function ya(t,a){var n,r=Math.min(18,36*Math.abs(a)/Oa),h=Math.floor(r),e=r-h,o=(n=fn[h])[0],M=n[1],i=(n=fn[++h])[0],u=n[1],s=(n=fn[Math.min(19,++h)])[0],c=n[1];return[t*(i+e*(s-o)/2+e*e*(s-2*i+o)/2),(a>0?Oa:-Oa)/2*(u+e*(c-M)/2+e*e*(c-2*u+M)/2)]}function ka(t){function a(a,n){var r=Math.cos(n),h=(t-1)/(t-r*Math.cos(a));return[h*r*Math.sin(a),h*Math.sin(n)]}return a.invert=function(a,n){var h=a*a+n*n,e=Math.sqrt(h),o=(t-Math.sqrt(1-h*(t+1)/(t-1)))/((t-1)/e+e/(t-1));return[Math.atan2(a*o,e*Math.sqrt(1-o*o)),e?r(n*o/e):0]},a}function xa(t,a){function n(a,n){var o=r(a,n),M=o[1],i=M*e/(t-1)+h;return[o[0]*h/i,M/i]}var r=ka(t);if(!a)return r;var h=Math.cos(a),e=Math.sin(a);return n.invert=function(a,n){var o=(t-1)/(t-1-n*e);return r.invert(o*a,o*n*h)},n}function Ea(){var t=1.4,a=0,n=Ya(xa),r=n(t,a);return r.distance=function(r){return arguments.length?n(t=+r,a):t},r.tilt=function(r){return arguments.length?n(t,a=r*Oa/180):180*a/Oa},r}function _a(t,a){var n=Math.tan(a/2),r=Math.sin(Oa/4*n);return[t*(.74482-.34588*r*r),1.70711*n]}function Pa(t){function a(t,a){var r=d3.geo.gnomonic.raw(t,a);return r[0]*=n,r}var n=Math.cos(t);return a.invert=function(t,a){return d3.geo.gnomonic.raw.invert(t/n,a)},a}function za(){var t=[[0,0],[0,0]],a=Ya(Pa),n=a(0),h=n.rotate;return delete n.rotate,n.points=function(n){if(!arguments.length)return t;t=n;var e=d3.geo.interpolate(n[0],n[1]),o=e(.5),M=Ga(-o[0]*Va,-o[1]*Va,n[0][0]*Va,n[0][1]*Va),i=.5*e.distance,u=(0>M[0]?-1:1)*M[1],s=r(Math.sin(u)/Math.sin(i));return h.call(M,[-o[0],-o[1],-s*Wa]),a(i)},n}function Aa(t){function a(a,M){var i=h(Math.cos(M)*Math.cos(a-r)),u=h(Math.cos(M)*Math.cos(a-e)),s=0>M?-1:1;return i*=i,u*=u,[(i-u)/(2*t),s*n(4*o*u-(o-i+u)*(o-i+u))/(2*t)]}if(!t)return d3.geo.azimuthalEquidistant.raw;var r=-t/2,e=-r,o=t*t,M=Math.tan(e),i=.5/Math.sin(e);return a.invert=function(t,a){var n,o,u=a*a,s=Math.cos(Math.sqrt(u+(n=t+r)*n)),c=Math.cos(Math.sqrt(u+(n=t+e)*n));return[Math.atan2(o=s-c,n=(s+c)*M),(0>a?-1:1)*h(Math.sqrt(n*n+o*o)*i)]},a}function Da(){var t=[[0,0],[0,0]],a=Ya(Aa),n=a(0),h=n.rotate;return delete n.rotate,n.points=function(n){if(!arguments.length)return t;t=n;var e=d3.geo.interpolate(n[0],n[1]),o=e(.5),M=Ga(-o[0]*Va,-o[1]*Va,n[0][0]*Va,n[0][1]*Va),i=.5*e.distance,u=(0>M[0]?-1:1)*M[1],s=r(Math.sin(u)/Math.sin(i));return h.call(M,[-o[0],-o[1],-s*Wa]),a(2*i)},n}function Ga(t,a,n,h){var e=Math.cos(a),o=Math.sin(a),M=Math.cos(h),i=Math.cos(n+=t)*M,u=Math.sin(n)*M,s=Math.sin(h);return[Math.atan2(u,i*e-s*o),r(s*e+i*o)]}function ja(t,n){if(La>Math.abs(n))return[t,0];var h=Math.abs(2*n/Oa),e=r(h);if(La>Math.abs(t)||La>Math.abs(Math.abs(n)-Oa/2))return[0,a(n)*Oa*Math.tan(e/2)];var o=Math.cos(e),M=Math.abs(Oa/t-t/Oa)/2,i=M*M,u=o/(h+o-1),s=u*(2/h-1),c=s*s,f=c+i,v=u-c,l=i+u;return[a(t)*Oa*(M*v+Math.sqrt(i*v*v-f*(u*u-c)))/f,a(n)*Oa*(s*l-M*Math.sqrt((i+1)*f-l*l))/f]}function Fa(t,h){if(La>Math.abs(h))return[t,0];var e=Math.abs(2*h/Oa),o=r(e);if(La>Math.abs(t)||La>Math.abs(Math.abs(h)-Oa/2))return[0,a(h)*Oa*Math.tan(o/2)];var M=Math.cos(o),i=Math.abs(Oa/t-t/Oa)/2,u=i*i,s=M*(Math.sqrt(1+u)-i*M)/(1+u*e*e);return[a(t)*Oa*s,a(h)*Oa*n(1-s*(2*i+s))]}function Ca(t,h){if(La>Math.abs(h))return[t,0];var e=2*h/Oa,o=r(e);if(La>Math.abs(t)||La>Math.abs(Math.abs(h)-Oa/2))return[0,Oa*Math.tan(o/2)];var M=(Oa/t-t/Oa)/2,i=e/(1+Math.cos(o));return[Oa*(a(t)*n(M*M+1-i*i)-M),Oa*i]}function Ha(t,r){if(!r)return[t,0];var h=Math.abs(r);if(!t||h===Oa/2)return[0,r];var e=2*h/Oa,o=e*e,M=(8*e-o*(o+2)-5)/(2*o*(e-1)),i=M*M,u=e*M,s=o+i+2*u,c=e+3*M,f=2*t/Oa,v=f+1/f,l=a(Math.abs(t)-Oa/2)*Math.sqrt(v*v-4),g=l*l,d=s*(o+i*g-1)+(1-o)*(o*(c*c+4*i)+12*u*i+4*i*i),b=(l*(s+i-1)+2*n(d))/(4*s+g);return[a(t)*Oa*b/2,a(r)*Oa/2*n(1+l*Math.abs(b)-b*b)]}function Ia(t,a){return[t*Math.sqrt(1-3*a*a/(Oa*Oa)),a]}function Ba(t,a){var n=.90631*Math.sin(a),r=Math.sqrt(1-n*n),h=Math.sqrt(2/(1+r*Math.cos(t/=3)));return[2.66723*r*h*Math.sin(t),1.24104*n*h]}function Ja(t,a){var r=Math.cos(a),h=Math.cos(t)*r,e=1-h,o=Math.cos(t=Math.atan2(Math.sin(t)*r,-Math.sin(a))),M=Math.sin(t);return r=n(1-h*h),[M*r-o*e,-o*r-M*e]}function Ka(t,a){var n=b(t,a);return[(n[0]+2*t/Oa)/2,(n[1]+a)/2]}var La=1e-6,Na=La*La,Oa=Math.PI,Ua=Math.sqrt(Oa),Va=Oa/180,Wa=180/Oa,Xa=d3.geo.projection,Ya=d3.geo.projectionMutator;d3.geo.interrupt=function(t){function a(){for(var t=1e-6,a=[],h=0,e=r[0].length;e>h;++h){var o=r[0][h],M=180*o[0][0]/Oa,i=180*o[0][1]/Oa,u=180*o[1][1]/Oa,s=180*o[2][0]/Oa,c=180*o[2][1]/Oa;a.push(n([[M+t,i+t],[M+t,u-t],[s-t,u-t],[s-t,c+t]],30))}for(var h=r[1].length-1;h>=0;--h){var o=r[1][h],M=180*o[0][0]/Oa,i=180*o[0][1]/Oa,u=180*o[1][1]/Oa,s=180*o[2][0]/Oa,c=180*o[2][1]/Oa;a.push(n([[s-t,c-t],[s-t,u+t],[M+t,u+t],[M+t,i-t]],30))}return{type:"Polygon",coordinates:[d3.merge(a)]}}function n(t,a){for(var n,r,h,e=-1,o=t.length,M=t[0],i=[];o>++e;){n=t[e],r=(n[0]-M[0])/a,h=(n[1]-M[1])/a;for(var u=0;a>u;++u)i.push([M[0]+u*r,M[1]+u*h]);M=n}return i.push(n),i}var r=[[[[-Oa,0],[0,Oa/2],[Oa,0]]],[[[-Oa,0],[0,-Oa/2],[Oa,0]]]],h=d3.geo.projection(function(a,n){for(var h=0>n?-1:1,e=r[+(0>n)],o=0,M=e.length-1;M>o&&a>e[o][2][0];++o);var i=t(a-e[o][1][0],n);return i[0]+=t(e[o][1][0],h*n>h*e[o][0][1]?e[o][0][1]:n)[0],i}),e=h.stream;return h.stream=function(t){var n=h.rotate(),r=e(t),o=(h.rotate([0,0]),e(t));return h.rotate(n),r.sphere=function(){d3.geo.stream(a(),o)},r},h.lobes=function(t){return arguments.length?(r=t.map(function(t){return t.map(function(t){return[[t[0][0]*Oa/180,t[0][1]*Oa/180],[t[1][0]*Oa/180,t[1][1]*Oa/180],[t[2][0]*Oa/180,t[2][1]*Oa/180]]})}),h):r.map(function(t){return t.map(function(t){return[[180*t[0][0]/Oa,180*t[0][1]/Oa],[180*t[1][0]/Oa,180*t[1][1]/Oa],[180*t[2][0]/Oa,180*t[2][1]/Oa]]})})},h},b.invert=function(t,a){var n=t,r=a,e=25;do{var o,M=Math.sin(n),i=Math.sin(n/2),u=Math.cos(n/2),s=Math.sin(r),c=Math.cos(r),f=Math.sin(2*r),v=s*s,l=c*c,g=i*i,d=1-l*u*u,b=d?h(c*u)*Math.sqrt(o=1/d):o=0,q=2*b*c*i-t,w=b*s-a,m=o*(l*g+b*c*u*v),p=o*(.5*M*f-2*b*s*i),S=.25*o*(f*i-b*s*l*M),Q=o*(v*u+b*g*c),R=p*S-Q*m;if(!R)break;var T=(w*p-q*Q)/R,y=(q*S-w*m)/R;n-=T,r-=y}while((Math.abs(T)>La||Math.abs(y)>La)&&--e>0);return[n,r]},(d3.geo.aitoff=function(){return Xa(b)}).raw=b,q.invert=function(t,a){var n=(Math.SQRT2-1)/(Math.SQRT2+1),r=Math.sqrt(1-n*n),h=d(Oa/2,r*r),e=-1,o=v(.5*h-a,-t,r*r),M=m(o[0],o[1]),i=Math.atan2(M[1],M[0])/e;return[i,2*Math.atan(Math.exp(.5/e*Math.log(n*M[0]*M[0]+n*M[1]*M[1])))-Oa/2]},d3.geo.guyou=f(q);var Za=p(Oa),$a=S(2*Math.SQRT2/Oa,Math.SQRT2,Oa);(d3.geo.mollweide=function(){return Xa($a)}).raw=$a,Q.invert=function(t,a){return[t/Math.cos(a),a]},(d3.geo.sinusoidal=function(){return Xa(Q)}).raw=Q;var tn=.7109889596207567,an=.0528035274542;R.invert=function(t,a){return a>-tn?$a.invert(t,a-an):Q.invert(t,a)},(d3.geo.sinuMollweide=function(){return Xa(R).rotate([-20,-55])}).raw=R,(d3.geo.armadillo=y).raw=T,k.invert=function(t,n){if(t*=3/8,n*=3/8,!t&&Math.abs(n)>1)return null;var h=t*t,e=n*n,s=1+h+e,c=Math.sqrt(.5*(s-Math.sqrt(s*s-4*n*n))),f=r(c)/3,v=c?u(Math.abs(n/c))/3:i(Math.abs(t))/3,l=Math.cos(f),g=M(v),d=g*g-l*l;return[2*a(t)*Math.atan2(o(v)*l,.25-d),2*a(n)*Math.atan2(g*Math.sin(f),.25+d)]},(d3.geo.august=function(){return Xa(k)}).raw=k;var nn=Math.log(1+Math.SQRT2);x.invert=function(t,n){if(nn>(h=Math.abs(n)))return[t,2*Math.atan(Math.exp(n))-Oa/2];var r,h,e=Math.sqrt(8),o=Oa/4,M=25;do{var i=Math.cos(o/2),u=Math.tan(o/2);o-=r=(e*(o-Oa/4)-Math.log(u)-h)/(e-.5*i*i/u)}while(Math.abs(r)>Na&&--M>0);return[t/(Math.cos(o)*(e-1/Math.sin(o))),a(n)*o]},(d3.geo.baker=function(){return Xa(x)}).raw=x;var rn=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=_).raw=E,P.invert=function(t,a){var n,r,h=2.00276,e=h*a,o=0>a?-Oa/4:Oa/4,M=25;do r=e-Math.SQRT2*Math.sin(o),o-=n=(Math.sin(2*o)+2*o-Oa*Math.sin(r))/(2*Math.cos(2*o)+2+Oa*Math.cos(r)*Math.SQRT2*Math.cos(o));while(Math.abs(n)>La&&--M>0);return r=e-Math.SQRT2*Math.sin(o),[t*(1/Math.cos(r)+1.11072/Math.cos(o))/h,r]},(d3.geo.boggs=function(){return Xa(P)}).raw=P,(d3.geo.bonne=function(){return s(z).parallel(45)}).raw=z;var hn=S(1,4/Oa,Oa);(d3.geo.bromley=function(){return Xa(hn)}).raw=hn,A.invert=function(t,a){var n=(n=a/Ua-1)*n;return[n>0?t*Math.sqrt(Oa/n)/2:0,r(1-n)]},(d3.geo.collignon=function(){return Xa(A)}).raw=A,G.invert=function(t,a){return[t,2*Math.atan(Math.exp(a))-Oa/2]},(d3.geo.conicConformal=function(){return c(D)}).raw=D,(d3.geo.conicEquidistant=function(){return c(j)}).raw=j,(d3.geo.craig=function(){return s(F)}).raw=F,C.invert=function(t,a){var n=Math.sqrt(3),h=3*r(a/(n*Ua));return[Ua*t/(n*(2*Math.cos(2*h/3)-1)),h]},(d3.geo.craster=function(){return Xa(C)}).raw=C,(d3.geo.cylindricalEqualArea=function(){return s(H)}).raw=H,I.invert=function(t,a){var n=Math.sqrt(8/(3*Oa)),r=a/n;return[t/(n*(1-Math.abs(r)/Oa)),r]},(d3.geo.eckert1=function(){return Xa(I)}).raw=I,B.invert=function(t,n){var h=2-Math.abs(n)/Math.sqrt(2*Oa/3);return[t*Math.sqrt(6*Oa)/(2*h),a(n)*r((4-h*h)/3)]},(d3.geo.eckert2=function(){return Xa(B)}).raw=B,J.invert=function(t,a){var r=Math.sqrt(Oa*(4+Oa))/2;return[t*r/(1+n(1-a*a*(4+Oa)/(4*Oa))),a*r/2]},(d3.geo.eckert3=function(){return Xa(J)}).raw=J,K.invert=function(t,a){var n=2*Math.sqrt(Oa/(4+Oa)),h=r(a/cy),e=Math.cos(h);return[t/(2/Math.sqrt(Oa*(4+Oa))*(1+e)),r((h+a/n*(e+2))/(2+Oa/2))]},(d3.geo.eckert4=function(){return Xa(K)}).raw=K,L.invert=function(t,a){var n=Math.sqrt(2+Oa),r=a*n/2;return[n*t/(1+Math.cos(r)),r]},(d3.geo.eckert5=function(){return Xa(L)}).raw=L,N.invert=function(t,a){var n=1+Oa/2,h=Math.sqrt(n/2);return[2*t*h/(1+Math.cos(a*=h)),r((a+Math.sin(a))/n)]},(d3.geo.eckert6=function(){return Xa(N)}).raw=N,O.invert=function(t,a){var n=d3.geo.august.raw.invert(t/1.2,1.065*a);if(!n)return null;var r=n[0],h=n[1],e=20;t/=en,a/=en;do{var o=r/2,M=h/2,i=Math.sin(o),u=Math.cos(o),s=Math.sin(M),c=Math.cos(M),f=Math.cos(h),v=Math.sqrt(f),l=s/(c+Math.SQRT2*u*v),g=l*l,d=Math.sqrt(2/(1+g)),b=Math.SQRT2*c+(u+i)*v,q=Math.SQRT2*c+(u-i)*v,w=b/q,m=Math.sqrt(w),p=m-1/m,S=m+1/m,Q=d*p-2*Math.log(m)-t,R=d*l*S-2*Math.atan(l)-a,T=s&&Math.SQRT1_2*v*i*g/s,y=(Math.SQRT2*u*c+v)/(2*(c+Math.SQRT2*u*v)*(c+Math.SQRT2*u*v)*v),k=-.5*l*d*d*d,x=k*T,E=k*y,_=(_=2*c+Math.SQRT2*v*(u-i))*_*m,P=(Math.SQRT2*u*c*v+f)/_,z=-(Math.SQRT2*i*s)/(v*_),A=p*x-2*P/m+d*(P+P/w),D=p*E-2*z/m+d*(z+z/w),G=l*S*x-2*T/(1+g)+d*S*T+d*l*(P-P/w),j=l*S*E-2*y/(1+g)+d*S*y+d*l*(z-z/w),F=D*G-j*A;if(!F)break;var C=(R*D-Q*j)/F,H=(Q*G-R*A)/F;r-=C,h=Math.max(-Oa/2,Math.min(Oa/2,h-H))}while((Math.abs(C)>La||Math.abs(H)>La)&&--e>0);return La>Math.abs(Math.abs(h)-Oa/2)?[0,h]:e&&[r,h]};var en=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return Xa(O)}).raw=O,U.invert=function(t,a){var r=a/(1+on);return[t?t/(on*n(1-r*r)):0,2*Math.atan(r)]};var on=Math.cos(35*Va);(d3.geo.fahey=function(){return Xa(U)}).raw=U,V.invert=function(t,n){var h=a(t),e=a(n),o=-h*t,M=-e*n,i=1>M/o,u=X(i?M:o,i?o:M),s=u[0],c=u[1];i&&(s=-Oa/2-s);var f=Math.cos(c),t=Math.cos(s)*f,n=Math.sin(s)*f,v=Math.sin(c);return[h*(Math.atan2(n,-v)+Oa),e*r(t)]},d3.geo.gringorten=f(V),(d3.geo.hammerRetroazimuthal=$).raw=Y;var Mn=d3.geo.azimuthalEqualArea.raw;na.invert=function(t,a){var n=2*r(a/2);return[t*Math.cos(n/2)/Math.cos(n),n]},(d3.geo.hammer=aa).raw=ta,ra.invert=function(t,a){var n=Math.abs(n=a*(0>a?.5179951515653813:.5686373742600607))>1-La?n>0?Oa/2:-Oa/2:r(n);return[1.1764705882352942*t/Math.cos(n),Math.abs(n=((n+=n)+Math.sin(n))*(0>a?.4102345310814193:.3736990601468637))>1-La?n>0?Oa/2:-Oa/2:r(n)]},(d3.geo.hatano=function(){return Xa(ra)}).raw=ra;var un=41+48/36+37/3600;(d3.geo.healpix=ea).raw=ha,(d3.geo.hill=Ma).raw=oa,ia.invert=function(t,a){return Math.abs(a)>tn?$a.invert(t,a+(a>0?an:-an)):Q.invert(t,a)},(d3.geo.homolosine=function(){return Xa(ia)}).raw=ia,ua.invert=function(t,a){return[2/3*Oa*t/Math.sqrt(Oa*Oa/3-a*a),a]},(d3.geo.kavrayskiy7=function(){return Xa(ua)}).raw=ua,(d3.geo.lagrange=ca).raw=sa,fa.invert=function(t,a){var r=Math.abs(t),e=Math.abs(a),o=Oa/Math.SQRT2,M=La,i=Oa/2;o>e?i*=e/o:M+=6*h(o/e);for(var u=0;25>u;u++){var s=Math.sin(i),c=n(Math.cos(i)),f=Math.sin(i/2),v=Math.cos(i/2),l=Math.sin(M/6),g=Math.cos(M/6),d=.5*M*(1+c)-r,b=i/(v*g)-e,q=c?-.25*M*s/c:0,w=.5*(1+c),m=(1+.5*i*f/v)/(v*g),p=i/v*(l/6)/(g*g),S=q*p-m*w,Q=(d*p-b*w)/S,R=(b*q-d*m)/S;if(i-=Q,M-=R,La>Math.abs(Q)&&La>Math.abs(R))break}return[0>t?-M:M,0>a?-i:i]},(d3.geo.larrivee=function(){return Xa(fa)}).raw=fa,va.invert=function(t,n){var r=a(t)*Oa,h=n/2,e=50;do{var o=r*r,M=h*h,i=r*h,u=r*(.975534+M*(-.119161+o*-.0143059+M*-.0547009))-t,s=h*(1.00384+o*(.0802894+M*-.02855+199025e-9*o)+M*(.0998909+M*-.0491032))-n,c=.975534-M*(.119161+.0143059*3*o+.0547009*M),f=-i*(.238322+.2188036*M+.0286118*o),v=i*(.1605788+7961e-7*o+-0.0571*M),l=1.00384+o*(.0802894+199025e-9*o)+M*(3*(.0998909-.02855*o)-.245516*M),g=f*v-l*c,d=(s*f-u*l)/g,b=(u*v-s*c)/g;r-=d,h-=b}while((Math.abs(d)>La||Math.abs(b)>La)&&--e>0);return e&&[r,h]},(d3.geo.laskowski=function(){return Xa(va)}).raw=va,la.invert=function(t,n){var e=t*t,o=n*n,M=o+1,i=t?Math.SQRT1_2*Math.sqrt((M-Math.sqrt(e*e+2*e*(o-1)+M*M))/e+1):1/Math.sqrt(M);return[r(t*i),a(n)*h(i)]},(d3.geo.littrow=function(){return Xa(la)}).raw=la,(d3.geo.loximuthal=function(){return s(ga).parallel(40)}).raw=ga,da.invert=function(t,a){return[t,2.5*Math.atan(Math.exp(.8*a))-.625*Oa]},(d3.geo.miller=function(){return Xa(da)}).raw=da;var sn={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geo.modifiedStereographic=qa).raw=ba,wa.invert=function(t,a){var n=Math.sqrt(6),h=Math.sqrt(7),e=3*r(a*h/9);
return[t*h/(n*(2*Math.cos(2*e/3)-1)),r(3*Math.sin(e)*n/7)]},(d3.geo.mtFlatPolarParabolic=function(){return Xa(wa)}).raw=wa,ma.invert=function(t,a){var n=a*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),h=2*r(n);return[3*Math.SQRT2*t/(1+2*Math.cos(h)/Math.cos(h/2)),r((n+Math.sin(h))/(1+Math.SQRT1_2))]},(d3.geo.mtFlatPolarQuartic=function(){return Xa(ma)}).raw=ma,pa.invert=function(t,a){var n=Math.sqrt(6/(4+Oa)),h=a/n;return La>Math.abs(Math.abs(h)-Oa/2)&&(h=0>h?-Oa/2:Oa/2),[1.5*t/(n*(.5+Math.cos(h))),r((h/2+Math.sin(h))/(1+Oa/4))]},(d3.geo.mtFlatPolarSinusoidal=function(){return Xa(pa)}).raw=pa,Sa.invert=function(t,a){var n,r=a,h=25;do{var e=r*r,o=e*e;r-=n=(r*(1.007226+e*(.015085+o*(-.044475+.028874*e-.005916*o)))-a)/(1.007226+e*(.045255+o*(-0.311325+.259866*e-.005916*11*o)))}while(Math.abs(n)>La&&--h>0);return[t/(.8707+(e=r*r)*(-.131979+e*(-.013791+e*e*e*(.003971-.001529*e)))),r]},(d3.geo.naturalEarth=function(){return Xa(Sa)}).raw=Sa,Qa.invert=function(t,a){for(var n=a/2,r=0,h=1/0;10>r&&Math.abs(h)>La;r++){var e=Math.cos(a/2);a-=h=(a-Math.tan(a/2)-n)/(1-.5/(e*e))}return[2*t/(1+Math.cos(a)),a]},(d3.geo.nellHammer=function(){return Xa(Qa)}).raw=Qa;var cn=f(q);(d3.geo.peirceQuincuncial=function(){return cn().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=cn.raw,Ra.invert=function(t,n){if(La>Math.abs(n))return[t,0];var e,o=t*t+n*n,M=.5*n,i=10;do{var u=Math.tan(M),s=1/Math.cos(M),c=o-2*n*M+M*M;M-=e=(u*c+2*(M-n))/(2+c*s*s+2*(M-n)*u)}while(Math.abs(e)>La&&--i>0);return u=Math.tan(M),[(Math.abs(n)<Math.abs(M+1/u)?r(t*u):a(t)*(h(Math.abs(t*u))+Oa/2))/Math.sin(M),M]},(d3.geo.polyconic=function(){return Xa(Ra)}).raw=Ra,(d3.geo.rectangularPolyconic=function(){return s(Ta)}).raw=Ta;var fn=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];fn.forEach(function(t){t[1]*=1.0144}),ya.invert=function(t,a){var n=2*a/Oa,r=90*n,h=Math.min(18,Math.abs(r/5)),e=Math.max(0,Math.floor(h));do{var o=fn[e][1],M=fn[e+1][1],i=fn[Math.min(19,e+2)][1],u=i-o,s=i-2*M+o,c=2*(Math.abs(n)-M)/u,f=s/u,v=c*(1-f*c*(1-2*f*c));if(v>=0||1===e){r=(a>=0?5:-5)*(v+h);var l,g=50;do h=Math.min(18,Math.abs(r)/5),e=Math.floor(h),v=h-e,o=fn[e][1],M=fn[e+1][1],i=fn[Math.min(19,e+2)][1],r-=(l=(a>=0?Oa:-Oa)/2*(M+v*(i-o)/2+v*v*(i-2*M+o)/2)-a)*Wa;while(Math.abs(l)>Na&&--g>0);break}}while(--e>=0);var d=fn[e][0],b=fn[e+1][0],q=fn[Math.min(19,e+2)][0];return[t/(b+v*(q-d)/2+v*v*(q-2*b+d)/2),r*Va]},(d3.geo.robinson=function(){return Xa(ya)}).raw=ya,(d3.geo.satellite=Ea).raw=xa,_a.invert=function(t,a){var n=a/1.70711,r=Math.sin(Oa/4*n);return[t/(.74482-.34588*r*r),2*Math.atan(n)]},(d3.geo.times=function(){return Xa(_a)}).raw=_a,(d3.geo.twoPointAzimuthal=za).raw=Pa,(d3.geo.twoPointEquidistant=Da).raw=Aa,ja.invert=function(t,n){if(La>Math.abs(n))return[t,0];if(La>Math.abs(t))return[0,Oa/2*Math.sin(2*Math.atan(n/Oa))];var r=(t/=Oa)*t,e=(n/=Oa)*n,o=r+e,M=o*o,i=-Math.abs(n)*(1+o),u=i-2*e+r,s=-2*i+1+2*e+M,c=e/s+(2*u*u*u/(s*s*s)-9*i*u/(s*s))/27,f=(i-u*u/(3*s))/s,v=2*Math.sqrt(-f/3),l=h(3*c/(f*v))/3;return[Oa*(o-1+Math.sqrt(1+2*(r-e)+M))/(2*t),a(n)*Oa*(-v*Math.cos(l+Oa/3)-u/(3*s))]},(d3.geo.vanDerGrinten=function(){return Xa(ja)}).raw=ja,Fa.invert=function(t,n){if(!t)return[0,Oa/2*Math.sin(2*Math.atan(n/Oa))];var r=Math.abs(t/Oa),h=(1-r*r-(n/=Oa)*n)/(2*r),e=h*h,o=Math.sqrt(e+1);return[a(t)*Oa*(o-h),a(n)*Oa/2*Math.sin(2*Math.atan2(Math.sqrt((1-2*h*r)*(h+o)-r),Math.sqrt(o+h+r)))]},(d3.geo.vanDerGrinten2=function(){return Xa(Fa)}).raw=Fa,Ca.invert=function(t,n){if(!n)return[t,0];var r=n/Oa,h=(Oa*Oa*(1-r*r)-t*t)/(2*Oa*t);return[t?Oa*(a(t)*Math.sqrt(h*h+1)-h):0,Oa/2*Math.sin(2*Math.atan(r))]},(d3.geo.vanDerGrinten3=function(){return Xa(Ca)}).raw=Ca,Ha.invert=function(t,n){if(!t||!n)return[t,n];n/=Oa;var r=2*a(t)*t/Oa,h=(r*r-1+4*n*n)/Math.abs(r),e=h*h,o=2*n,M=50;do{var i=o*o,u=(8*o-i*(i+2)-5)/(2*i*(o-1)),s=(3*o-i*o-10)/(2*i*o),c=u*u,f=o*u,v=o+u,l=v*v,g=o+3*u,d=l*(i+c*e-1)+(1-i)*(i*(g*g+4*c)+c*(12*f+4*c)),b=-2*v*(4*f*c+(1-4*i+3*i*i)*(1+s)+c*(-6+14*i-e+(-8+8*i-2*e)*s)+f*(-8+12*i+(-10+10*i-e)*s)),q=Math.sqrt(d),w=h*(l+c-1)+2*q-r*(4*l+e),m=h*(2*u*s+2*v*(1+s))+b/q-8*v*(h*(-1+c+l)+2*q)*(1+s)/(e+4*l);o-=δ=w/m}while(δ>La&&--M>0);return[a(t)*(Math.sqrt(h*h+4)+h)*Oa/4,Oa/2*o]},(d3.geo.vanDerGrinten4=function(){return Xa(Ha)}).raw=Ha;var vn=function(){var t=4*Oa+3*Math.sqrt(3),a=2*Math.sqrt(2*Oa*Math.sqrt(3)/t);return S(a*Math.sqrt(3)/Oa,a,t/6)}();(d3.geo.wagner4=function(){return Xa(vn)}).raw=vn,Ia.invert=function(t,a){return[t/Math.sqrt(1-3*a*a/(Oa*Oa)),a]},(d3.geo.wagner6=function(){return Xa(Ia)}).raw=Ia,Ba.invert=function(t,a){var n=t/2.66723,h=a/1.24104,e=Math.sqrt(n*n+h*h),o=2*r(e/2);return[3*Math.atan2(t*Math.tan(o),2.66723*e),e&&r(a*Math.sin(o)/(1.24104*.90631*e))]},(d3.geo.wagner7=function(){return Xa(Ba)}).raw=Ba,Ja.invert=function(t,a){var n=-.5*(t*t+a*a),h=Math.sqrt(-n*(2+n)),e=a*n+t*h,o=t*n-a*h,M=Math.sqrt(o*o+e*e);return[Math.atan2(h*e,M*(1+n)),M?-r(h*o/M):0]},(d3.geo.wiechel=function(){return Xa(Ja)}).raw=Ja,Ka.invert=function(t,a){var n=t,r=a,e=25;do{var o,M=Math.cos(r),i=Math.sin(r),u=Math.sin(2*r),s=i*i,c=M*M,f=Math.sin(n),v=Math.cos(n/2),l=Math.sin(n/2),g=l*l,d=1-c*v*v,b=d?h(M*v)*Math.sqrt(o=1/d):o=0,q=.5*(2*b*M*l+2*n/Oa)-t,w=.5*(b*i+r)-a,m=.5*o*(c*g+b*M*v*s)+1/Oa,p=o*(f*u/4-b*i*l),S=.125*o*(u*l-b*i*c*f),Q=.5*o*(s*v+b*g*M)+.5,R=p*S-Q*m,T=(w*p-q*Q)/R,y=(q*S-w*m)/R;n-=T,r-=y}while((Math.abs(T)>La||Math.abs(y)>La)&&--e>0);return[n,r]},(d3.geo.winkel3=function(){return Xa(Ka)}).raw=Ka})();